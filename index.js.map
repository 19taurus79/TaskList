{"version":3,"file":"index.js","sources":["../src/js/constants.js","../src/js/refs.js","../src/js/render-tasks.js","../src/js/local-storage-api.js","../src/js/data.js","../src/js/handlers.js","../src/js/theme-switcher.js","../src/main.js"],"sourcesContent":["export const STORAGE_KEYS = {\n  THEME: 'theme',\n  TASKS: 'tasks',\n};\n","export const refs = {\n  tasksList: document.querySelector('.tasks-list'),\n  headerForm: document.querySelector('.header-form'),\n  themeBtn: document.querySelector('.theme-toggle-button'),\n};\n","import { removeFromLocalStorage } from './local-storage-api';\nimport { refs } from './refs';\n\nexport function renderTasksList(tasks) {\n  const markup = tasks\n    .map(({ id, taskName, taskDescription }) => {\n      return `<li class=\"task-list-item\">\n        <button class=\"task-list-item-btn\" data-id=\"${id}\">Delete</button>\n        <h3>${taskName}</h3>\n        <p>${taskDescription}</p>\n      </li>`;\n    })\n    .join('');\n  refs.tasksList.innerHTML = markup;\n}\n\nexport function clearTasksList() {\n  refs.tasksList.innerHTML = '';\n}\n\nexport function onDeleteTask(event) {\n  if (event.target.nodeName !== 'BUTTON') return;\n  removeFromLocalStorage(event.target.dataset.id);\n  console.log(event.target.dataset.id);\n}\n","import { STORAGE_KEYS } from './constants';\nimport { renderTasksList } from './render-tasks';\n\nexport function saveToLocalStorage(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nexport function loadFromLocalStorage(key) {\n  const saved = localStorage.getItem(key);\n  try {\n    return JSON.parse(saved);\n  } catch (error) {\n    console.log(error);\n    return saved;\n  }\n}\n\nexport function removeFromLocalStorage(id) {\n  console.log('in func', id);\n  const arr = loadFromLocalStorage(STORAGE_KEYS.TASKS);\n  console.log('arr', arr);\n  const index = arr.findIndex(item => item.id === id);\n  arr.splice(index, 1);\n  console.log('index', index);\n  console.log('arr', arr);\n  saveToLocalStorage(STORAGE_KEYS.TASKS, arr);\n  renderTasksList(arr);\n}\n","import { STORAGE_KEYS } from './constants';\nimport { loadFromLocalStorage } from './local-storage-api';\n\nexport function getTasks(){\n    const tasks = loadFromLocalStorage(STORAGE_KEYS.TASKS) || []\n    return tasks\n};\n","import { STORAGE_KEYS } from './constants';\nimport { getTasks } from './data';\nimport { saveToLocalStorage } from './local-storage-api';\nimport { renderTasksList } from './render-tasks';\n\nexport function onSubmit(event) {\n  event.preventDefault();\n\n  const { taskName, taskDescription } = event.target.elements;\n\n  const titleValue = taskName.value.trim();\n  const descriptionValue = taskDescription.value.trim();\n\n  if (!titleValue || !descriptionValue) {\n    alert('Error');\n    return;\n  }\n\n  const task = {\n    taskName: titleValue,\n    taskDescription: descriptionValue,\n    id: crypto.randomUUID(),\n  };\n  const tasks = getTasks();\nconsole.log('task', task);\n  console.log('tasks', tasks);\n  tasks.push(task);\n\n  saveToLocalStorage(STORAGE_KEYS.TASKS, tasks);\n  renderTasksList(tasks);\n  event.target.reset();\n}\n\nexport function onDOMContentLoaded() {\n  const tasks = getTasks();\n  renderTasksList(tasks);\n}\n","export function onThemeBtnClick() {\n  const body = document.body;\n\n  // Проверяем, есть ли класс 'theme-light'\n  if (body.classList.contains('theme-light')) {\n    body.classList.remove('theme-light');\n    body.classList.add('theme-dark');\n  } else {\n    body.classList.remove('theme-dark');\n    body.classList.add('theme-light');\n  }\n}\n","import { onDOMContentLoaded, onSubmit } from './js/handlers';\nimport { refs } from './js/refs';\nimport { onDeleteTask } from './js/render-tasks';\nimport { onThemeBtnClick } from './js/theme-switcher';\n\ndocument.addEventListener('DOMContentLoaded', onDOMContentLoaded);\nrefs.headerForm.addEventListener('submit', onSubmit);\nrefs.themeBtn.addEventListener('click', onThemeBtnClick);\nrefs.tasksList.addEventListener('click', onDeleteTask);\n"],"names":["STORAGE_KEYS","refs","renderTasksList","tasks","markup","id","taskName","taskDescription","onDeleteTask","event","removeFromLocalStorage","saveToLocalStorage","key","value","loadFromLocalStorage","saved","error","arr","index","item","getTasks","onSubmit","titleValue","descriptionValue","task","onDOMContentLoaded","onThemeBtnClick","body"],"mappings":"ssBAAO,MAAMA,EAAe,CAC1B,MAAO,QACP,MAAO,OACT,ECHaC,EAAO,CAClB,UAAW,SAAS,cAAc,aAAa,EAC/C,WAAY,SAAS,cAAc,cAAc,EACjD,SAAU,SAAS,cAAc,sBAAsB,CACzD,ECDO,SAASC,EAAgBC,EAAO,CACrC,MAAMC,EAASD,EACZ,IAAI,CAAC,CAAE,GAAAE,EAAI,SAAAC,EAAU,gBAAAC,CAAe,IAC5B;AAAA,sDACyCF,CAAE;AAAA,cAC1CC,CAAQ;AAAA,aACTC,CAAe;AAAA,YAEvB,EACA,KAAK,EAAE,EACVN,EAAK,UAAU,UAAYG,CAC7B,CAMO,SAASI,EAAaC,EAAO,CAC9BA,EAAM,OAAO,WAAa,WAC9BC,EAAuBD,EAAM,OAAO,QAAQ,EAAE,EAC9C,QAAQ,IAAIA,EAAM,OAAO,QAAQ,EAAE,EACrC,CCrBO,SAASE,EAAmBC,EAAKC,EAAO,CAC7C,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CACjD,CAEO,SAASC,EAAqBF,EAAK,CACxC,MAAMG,EAAQ,aAAa,QAAQH,CAAG,EACtC,GAAI,CACF,OAAO,KAAK,MAAMG,CAAK,CACxB,OAAQC,EAAO,CACd,eAAQ,IAAIA,CAAK,EACVD,CACR,CACH,CAEO,SAASL,EAAuBL,EAAI,CACzC,QAAQ,IAAI,UAAWA,CAAE,EACzB,MAAMY,EAAMH,EAAqBd,EAAa,KAAK,EACnD,QAAQ,IAAI,MAAOiB,CAAG,EACtB,MAAMC,EAAQD,EAAI,UAAUE,GAAQA,EAAK,KAAOd,CAAE,EAClDY,EAAI,OAAOC,EAAO,CAAC,EACnB,QAAQ,IAAI,QAASA,CAAK,EAC1B,QAAQ,IAAI,MAAOD,CAAG,EACtBN,EAAmBX,EAAa,MAAOiB,CAAG,EAC1Cf,EAAgBe,CAAG,CACrB,CCxBO,SAASG,GAAU,CAEtB,OADcN,EAAqBd,EAAa,KAAK,GAAK,CAAE,CAEhE,CCDO,SAASqB,EAASZ,EAAO,CAC9BA,EAAM,eAAc,EAEpB,KAAM,CAAE,SAAAH,EAAU,gBAAAC,CAAe,EAAKE,EAAM,OAAO,SAE7Ca,EAAahB,EAAS,MAAM,KAAI,EAChCiB,EAAmBhB,EAAgB,MAAM,KAAI,EAEnD,GAAI,CAACe,GAAc,CAACC,EAAkB,CACpC,MAAM,OAAO,EACb,MACD,CAED,MAAMC,EAAO,CACX,SAAUF,EACV,gBAAiBC,EACjB,GAAI,OAAO,WAAY,CAC3B,EACQpB,EAAQiB,IAChB,QAAQ,IAAI,OAAQI,CAAI,EACtB,QAAQ,IAAI,QAASrB,CAAK,EAC1BA,EAAM,KAAKqB,CAAI,EAEfb,EAAmBX,EAAa,MAAOG,CAAK,EAC5CD,EAAgBC,CAAK,EACrBM,EAAM,OAAO,OACf,CAEO,SAASgB,GAAqB,CACnC,MAAMtB,EAAQiB,IACdlB,EAAgBC,CAAK,CACvB,CCpCO,SAASuB,GAAkB,CAChC,MAAMC,EAAO,SAAS,KAGlBA,EAAK,UAAU,SAAS,aAAa,GACvCA,EAAK,UAAU,OAAO,aAAa,EACnCA,EAAK,UAAU,IAAI,YAAY,IAE/BA,EAAK,UAAU,OAAO,YAAY,EAClCA,EAAK,UAAU,IAAI,aAAa,EAEpC,CCNA,SAAS,iBAAiB,mBAAoBF,CAAkB,EAChExB,EAAK,WAAW,iBAAiB,SAAUoB,CAAQ,EACnDpB,EAAK,SAAS,iBAAiB,QAASyB,CAAe,EACvDzB,EAAK,UAAU,iBAAiB,QAASO,CAAY"}